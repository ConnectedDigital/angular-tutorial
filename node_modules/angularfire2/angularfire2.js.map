{"version":3,"file":"angularfire2.js","sourceRoot":"","sources":["../src/angularfire2.ts"],"names":[],"mappings":"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","sourcesContent":["import { initializeApp } from 'firebase';\nimport * as utils from './utils';\nimport { FirebaseAppConfig } from './interfaces';\nimport { AuthConfiguration } from './auth';\nimport {\n  FirebaseListFactoryOpts,\n  FirebaseObjectFactoryOpts,\n} from './interfaces';\nimport {\n  FirebaseConfig,\n  FirebaseApp,\n  WindowLocation,\n  FirebaseUserConfig,\n  FirebaseAuthConfig\n} from './tokens';\nimport {\n  APP_INITIALIZER,\n  Inject,\n  Injectable,\n  OpaqueToken,\n  provide,\n  NgModule,\n  ModuleWithProviders\n} from '@angular/core';\nimport {\n  FirebaseSdkAuthBackend,\n  AngularFireAuth,\n  firebaseAuthConfig,\n  FirebaseAuth,\n  AuthBackend,\n  AuthMethods,\n  AuthProviders,\n  FirebaseAuthState\n} from './auth/index';\nimport {\n  FirebaseListObservable,\n  FirebaseObjectObservable,\n  FirebaseListFactory,\n  FirebaseObjectFactory,\n  AngularFireDatabase,\n  FirebaseDatabase\n} from './database/index';\nexport class AngularFire {\n  constructor( private fbUrl:string,\n    public auth: AngularFireAuth,\n    public database: AngularFireDatabase) {}\n/** @nocollapse */\nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n/** @nocollapse */\nstatic ctorParameters: {type: Function, decorators?: DecoratorInvocation[]}[] = [\n{type: undefined, decorators: [{ type: Inject, args: [FirebaseConfig, ] }, ]},\n{type: AngularFireAuth, },\n{type: AngularFireDatabase, },\n];\n}\n\nexport function _getFirebase(config: FirebaseAppConfig): firebase.app.App {\n  return initializeApp(config);\n}\n\nexport function _getWindowLocation(){\n  return window.location;\n}\n\nexport function _getAuthBackend(app: firebase.app.App): FirebaseSdkAuthBackend {\n  return new FirebaseSdkAuthBackend(app, false);\n}\n\nexport function _getDefaultFirebase(config){\n  // remove a trailing slash from the Database URL if it exists\n  config.databaseURL = utils.stripTrailingSlash(config.databaseURL);\n  return config;\n}\n\nexport const COMMON_PROVIDERS: any[] = [\n  // TODO: Deprecate\n  { provide: FirebaseAuth,\n    useExisting: AngularFireAuth\n  },\n  {\n    provide: FirebaseApp,\n    useFactory: _getFirebase,\n    deps: [FirebaseConfig]\n  },\n  AngularFireAuth,\n  AngularFire,\n  AngularFireDatabase\n];\n\nexport const FIREBASE_PROVIDERS:any[] = [\n  COMMON_PROVIDERS,\n  {\n    provide: AuthBackend,\n    useFactory: _getAuthBackend,\n    deps: [FirebaseApp]\n  },\n  {\n    provide: WindowLocation,\n    useFactory: _getWindowLocation\n  },\n];\n\n/**\n * Used to define the default Firebase root location to be\n * used throughout an application.\n */\nexport const defaultFirebase = (config: FirebaseAppConfig): any => {\n  return [\n    { provide: FirebaseUserConfig, useValue: config },\n\t{ provide: FirebaseConfig, useFactory: _getDefaultFirebase, deps: [FirebaseUserConfig] }\n  ]\n};\nexport class AngularFireModule {\n  static initializeApp(config: FirebaseAppConfig, authConfig?:AuthConfiguration): ModuleWithProviders {\n    return {\n\t\tngModule: AngularFireModule,\n\t\tproviders: [\n\t\t  { provide: FirebaseUserConfig, useValue: config },\n\t\t  { provide: FirebaseConfig, useFactory: _getDefaultFirebase, deps: [FirebaseUserConfig] },\n      { provide: FirebaseAuthConfig, useValue: authConfig }\n\t\t]\n\t}\n  }\n/** @nocollapse */\nstatic decorators: DecoratorInvocation[] = [\n{ type: NgModule, args: [{\n\tproviders: FIREBASE_PROVIDERS\n}, ] },\n];\n}\n\nexport {\n  AngularFireAuth,\n  AngularFireDatabase,\n  // TODO: Deprecate\n  FirebaseAuth,\n  // TODO: Deprecate\n  FirebaseDatabase,\n  FirebaseListObservable,\n  FirebaseObjectObservable,\n  FirebaseListFactory,\n  FirebaseObjectFactory,\n  firebaseAuthConfig,\n  FirebaseAuthState,\n  AuthMethods,\n  AuthProviders,\n  WindowLocation\n}\n\nexport { FirebaseConfig, FirebaseApp, FirebaseAuthConfig, FirebaseRef, FirebaseUrl, FirebaseUserConfig } from './tokens';\nexport { FirebaseAppConfig } from './interfaces';\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}